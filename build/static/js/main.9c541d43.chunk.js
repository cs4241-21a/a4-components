(this["webpackJsonpa4-Jasper-Meggit"]=this["webpackJsonpa4-Jasper-Meggit"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),s=n(11),a=n.n(s),c=(n(16),n(9)),h=n(3),d=n(4),o=n(8),u=n(7),j=n(6),b=n(5),l=n(2),O=n(0),p=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={username:"",score:""},r}return Object(d.a)(n,[{key:"handleChange",value:function(e){return e.preventDefault(),this.setState(Object(l.a)(Object(l.a)({},this.state),{},Object(b.a)({},e.target.id,e.target.value))),!1}},{key:"submitUser",value:function(e){return e.preventDefault(),fetch("/api/add",{method:"POST",body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then(this.props.handler),!1}},{key:"render",value:function(){return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h2",{children:"Add Score"}),Object(O.jsx)("br",{}),Object(O.jsxs)("form",{action:"",children:[Object(O.jsx)("input",{type:"text",id:"username",placeholder:"username",value:this.state.username,onChange:this.handleChange.bind(this)}),Object(O.jsx)("input",{type:"text",id:"score",placeholder:"score",value:this.state.score,onChange:this.handleChange.bind(this)}),Object(O.jsx)("button",{id:"addUser",onClick:this.submitUser.bind(this),children:"submit"})]})]})}}]),n}(i.a.Component),v=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={username:r.props.username,score:r.props.score},r}return Object(d.a)(n,[{key:"handleChange",value:function(e){return e.preventDefault(),this.setState(Object(l.a)(Object(l.a)({},this.state),{},Object(b.a)({},e.target.name,e.target.value))),!1}},{key:"finishEdit",value:function(e){return e.preventDefault(),fetch("/api/edit",{method:"POST",body:JSON.stringify(Object(l.a)(Object(l.a)({},this.state),{},{id:this.props.name}))}).then((function(e){return e.json()})).then(this.props.updateParent),!1}},{key:"removeRow",value:function(e){return e.preventDefault(),fetch("/api/remove",{method:"POST",body:JSON.stringify({id:this.props.name})}).then((function(e){return e.json()})).then(this.props.updateParent),!1}},{key:"render",value:function(){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:this.props.rank}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{name:"username",value:this.state.username,onChange:this.handleChange.bind(this)})}),Object(O.jsx)("td",{children:Object(O.jsx)("input",{name:"score",value:this.state.score,onChange:this.handleChange.bind(this)})}),Object(O.jsx)("td",{children:this.props.date}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",onClick:this.finishEdit.bind(this),children:"Save"}),Object(O.jsx)("button",{type:"button",onClick:this.removeRow.bind(this),children:"Remove"})]})]})}}]),n}(i.a.Component),m=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e)).state={editing:null,values:{}},fetch("/api/values",{method:"GET"}).then((function(e){return e.json()})).then(r.provideUpdate.bind(Object(o.a)(r))),r}return Object(d.a)(n,[{key:"provideUpdate",value:function(e){this.setState({editing:null,values:e})}},{key:"beginEditing",value:function(e){return e.preventDefault(),this.setState({editing:e.target.name,values:this.state.values}),!1}},{key:"removeRow",value:function(e){return e.preventDefault(),fetch("/api/remove",{method:"POST",body:JSON.stringify({id:e.target.name})}).then((function(e){return e.json()})).then(this.provideUpdate),!1}},{key:"render",value:function(){var e=this,t=Object.entries(this.state.values).sort((function(e,t){var n=Object(c.a)(e,2)[1];return Object(c.a)(t,2)[1].score-n.score})).map((function(t,n){var r=Object(c.a)(t,2),i=r[0],s=r[1];return e.state.hasOwnProperty("editing")&&e.state.editing===i?Object(O.jsx)(v,{name:i,username:s.username,score:s.score,rank:n+1,date:s.date,updateParent:e.provideUpdate.bind(e)}):Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:n+1}),Object(O.jsx)("td",{children:s.username}),Object(O.jsx)("td",{children:s.score}),Object(O.jsx)("td",{children:s.date}),Object(O.jsxs)("td",{children:[Object(O.jsx)("button",{type:"button",name:i,onClick:e.beginEditing.bind(e),children:"Edit"}),Object(O.jsx)("button",{type:"button",name:i,onClick:e.removeRow.bind(e),children:"Remove"})]})]})}));return Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"User Leaderboard"}),Object(O.jsx)(p,{handler:this.provideUpdate.bind(this)}),Object(O.jsxs)("table",{id:"leaderboard",children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Ranking"}),Object(O.jsx)("th",{children:"Username"}),Object(O.jsx)("th",{children:"Score"}),Object(O.jsx)("th",{children:"Date"}),Object(O.jsx)("th",{children:"Actions"})]}),Object(O.jsx)("tbody",{children:t})]})]})}}]),n}(i.a.Component);a.a.render(Object(O.jsx)(m,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.9c541d43.chunk.js.map