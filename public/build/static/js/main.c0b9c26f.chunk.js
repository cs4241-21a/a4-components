(this["webpackJsonpsuki-a4-client"]=this["webpackJsonpsuki-a4-client"]||[]).push([[0],{24:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),c=n(17),o=n.n(c),a=n(5),s=(n(24),n(2)),d=n(7),l=n(8),u=n(6),j=n(10),h=n(9),b=n(0),p=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={upcomingData:[],pastData:[]},i.load=i.load.bind(Object(u.a)(i)),i.delFlight=i.delFlight.bind(Object(u.a)(i)),i.submitAdd=i.submitAdd.bind(Object(u.a)(i)),i.renderTable=i.renderTable.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.getElementById("submitButton").onclick=this.submitAdd,this.load()}},{key:"load",value:function(){var e=this;fetch("/getUpcoming").then((function(e){return e.json()})).then((function(t){403===t.code&&(window.location.href="/login"),e.setState({upcomingData:t})})),fetch("/getPast").then((function(e){return e.json()})).then((function(t){403===t.code&&(window.location.href="/login"),e.setState({pastData:t})}))}},{key:"submitAdd",value:function(e){e.preventDefault();var t=document.querySelector("#flightNum"),n=document.querySelector("#depAirport"),i=document.querySelector("#arrAirport"),r=document.querySelector("#date"),c={flightNum:t.value,depAirport:n.value,arrAirport:i.value,date:r.value},o=this;return fetch("/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){o.load()})),!1}},{key:"delFlight",value:function(e){var t={id:e},n=this;fetch("/del",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){n.load()}))}},{key:"loadModify",value:function(e){var t=this,n={id:e};fetch("/queryFlight",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(n){document.getElementById("boxTitle").innerText="Edit Flight",document.getElementById("flightNum").value=n.result.flightNum,document.getElementById("depAirport").value=n.result.depAirport,document.getElementById("arrAirport").value=n.result.arrAirport,document.getElementById("date").value=n.result.date,document.getElementById("idToModify").value=e,document.getElementById("submitButton").onclick=t.submitModify,document.getElementById("flightNum").focus()}))}},{key:"submitModify",value:function(e){e.preventDefault();var t=document.querySelector("#idToModify").value,n=document.querySelector("#flightNum"),i=document.querySelector("#depAirport"),r=document.querySelector("#arrAirport"),c=document.querySelector("#date"),o={id:t,flightNum:n.value,depAirport:i.value,arrAirport:r.value,date:c.value};fetch("/editFlight",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){window.location.reload()}))}},{key:"renderTable",value:function(e){var t=this;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.flightNum}),Object(b.jsx)("td",{children:e.depAirport}),Object(b.jsx)("td",{children:e.arrAirport}),Object(b.jsx)("td",{children:e.date}),Object(b.jsx)("td",{children:Object(b.jsx)(a.b,{onClick:function(n){n.preventDefault(),t.loadModify(e._id)},children:"Edit"})}),Object(b.jsx)("td",{children:Object(b.jsx)(a.b,{onClick:function(n){n.preventDefault(),t.delFlight(e._id)},children:"Remove"})})]})}},{key:"render",value:function(){var e=this.state.upcomingData.map(this.renderTable),t=this.state.pastData.map(this.renderTable);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h1",{children:"Flight Reminder"}),Object(b.jsx)(a.b,{onClick:function(e){e.preventDefault(),window.location.href="/logout"},children:"Logout"})]})}),Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("form",{id:"newTrip",children:[Object(b.jsx)("h2",{id:"boxTitle",children:"Add New Flight"}),Object(b.jsx)("label",{htmlFor:"flightNum",children:"Flight Number: "}),Object(b.jsx)("input",{type:"text",id:"flightNum",placeholder:"Flight Number"}),Object(b.jsx)("label",{htmlFor:"depAirport",children:"Departure Airprot: "}),Object(b.jsx)("input",{type:"text",id:"depAirport",placeholder:"City or specific location"}),Object(b.jsx)("label",{htmlFor:"arrAirport",children:"Arrival Airport: "}),Object(b.jsx)("input",{type:"text",id:"arrAirport",placeholder:"Airport name"}),Object(b.jsx)("label",{htmlFor:"date",children:"Date: "}),Object(b.jsx)("input",{type:"date",id:"date",name:"date",required:!0}),Object(b.jsx)("input",{type:"hidden",id:"idToModify"}),Object(b.jsx)("button",{id:"submitButton",children:"Submit"})]})})}),Object(b.jsx)("h2",{children:"Upcoming Travel"}),Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("table",{id:"upcomingResult",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Flight Number"}),Object(b.jsx)("th",{children:"Departure Airport"}),Object(b.jsx)("th",{children:"Arrival Airport"}),Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Edit"}),Object(b.jsx)("th",{children:"Remove"})]})}),Object(b.jsx)("tbody",{id:"upcomingData",children:e})]})})}),Object(b.jsx)("h2",{children:"Past Travel"}),Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("table",{id:"pastResult",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Flight Number"}),Object(b.jsx)("th",{children:"Departure Airport"}),Object(b.jsx)("th",{children:"Arrival Airport"}),Object(b.jsx)("th",{children:"Date"}),Object(b.jsx)("th",{children:"Edit"}),Object(b.jsx)("th",{children:"Remove"})]})}),Object(b.jsx)("tbody",{id:"pastData",children:t})]})})})]})}}]),n}(r.a.Component),m=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={username:"",password:""},i.submitLoginForm=i.submitLoginForm.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.state;fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){200!==e.code?alert(e.msg):window.location.href="/"}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsx)(a.b,{to:"/signup",children:"Sign up"})]})}),Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("form",{id:"newTrip",onSubmit:this.submitLoginForm,children:[Object(b.jsx)("h2",{children:"Login"}),Object(b.jsx)("label",{htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{type:"text",id:"username",required:!0,value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password",required:!0,value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),Object(b.jsx)("button",{id:"submitLogin",children:"Login"})]})})})]})}}]),n}(r.a.Component),O=function(e){Object(j.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(d.a)(this,n),(i=t.call(this,e)).state={username:"",password:""},i.submitRegForm=i.submitRegForm.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"submitRegForm",value:function(e){e.preventDefault();var t=this.state;fetch("/reg",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){200!==e.code?alert(e.msg):window.location.href="/"}))}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsxs)("div",{className:"box",children:[Object(b.jsx)("h1",{children:"Sign Up"}),Object(b.jsx)(a.b,{to:"/login",children:"Login"})]})}),Object(b.jsx)("div",{className:"boxHolder",children:Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("form",{id:"newTrip",onSubmit:this.submitRegForm,children:[Object(b.jsx)("h2",{children:"Sign Up"}),Object(b.jsx)("label",{htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{type:"text",id:"username",required:!0,value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}}),Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{type:"password",id:"password",required:!0,value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),Object(b.jsx)("button",{id:"submitReg",children:"Sign Up"})]})})})]})}}]),n}(r.a.Component);function x(){return Object(b.jsxs)(s.d,{children:[Object(b.jsx)(s.b,{exact:!0,path:"/",component:p}),Object(b.jsx)(s.b,{exact:!0,path:"/login",component:m}),Object(b.jsx)(s.b,{exact:!0,path:"/signup",component:O}),Object(b.jsx)(s.a,{from:"*",to:"/"})]})}o.a.render(Object(b.jsx)(a.a,{children:Object(b.jsx)(x,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c0b9c26f.chunk.js.map